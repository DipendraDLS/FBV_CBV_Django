{% extends 'GV_CRUD/base.html' %}

{% block content %}

<div class="row">
    <div class="col-sm-4">
        <h4 class="text-center alert alert-info">Add New User</h4>
        <form action="" method="POST">
            {% csrf_token %}
            {{form.as_p}}
            <input type="submit" class="btn btn-success" value="Add">
        </form>
    </div>

    <div class="col-sm-6 offset-2">
        <h4 class="text-center alert alert-info"> Show Users </h4>
        {% if users %}
        <table class="table table-hover">
          <thead>
            <tr class="text-center">
              <th scope="col">ID</th>
              <th scope="col">Name</th>
         
              <th scope="col">Action</th>
              
            </tr>
          </thead>
          <tbody class="text-center">
            <tr>
              {% for user in users %}
              <th scope="row">{{user.id}}</th>
              <td>{{user.name}}</td>
             
              <td>
                <a href="{% url 'user_details' user.id %}" class="btn btn-success btn-md">View</a>

                <a href="{% url 'user_update' user.id %}" class="btn btn-warning btn-md">Edit</a>
                
                <a href="{% url 'user_delete' user.id %}" class="btn btn-danger btn-md">Delete</a>

              </td>                 
            </tr>
            {% endfor %}
            
          </tbody>
        </table>

        {% else %}
            <h4 class="text-center alert alert-warning">No Records Found.</h4>
        {% endif %}
    </div>
    
</div>

{% endblock content %}